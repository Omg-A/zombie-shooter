namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`
    //% blockIdentity=images._tile
    export const tile4 = img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . f . . . . . . . . 
. . . . . . f f f . . . . . . . 
. . . . . f f f f f . . . . . . 
. . . . f f f f f f f . . . . . 
. . . f f f f f f f f f . . . . 
. . f f f f f f f f f f f . . . 
. f f f f f f f f f f f f f . . 
f f f f f f f f f f f f f f f . 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
`
    //% blockIdentity=images._tile
    export const tile5 = img`
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
f f f f f f f f f f f f f f f f 
`
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    Bullet = sprites.createProjectileFromSprite(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . f f f f f . . . . . . 
. . . . . f f f f f . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, Shooter, -150, 0)
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile4, function (sprite, location) {
    info.setLife(0)
})
function Spawn_Zombie () {
    Zombie = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . 7 7 7 7 7 . . . . . . 
. . . . . 7 f 7 f 7 . . . . . . 
. . . . . 7 7 7 7 7 . . . . . . 
. . . . . 7 7 7 7 7 . . . . . . 
. . . . . . . 7 . . . . . . . . 
. . . . . . . 2 . . . . . . . . 
. . . . 2 2 2 2 2 2 2 . . . . . 
. . . . 2 . 2 2 2 . 2 . . . . . 
. . . . 7 . 2 2 2 . 7 . . . . . 
. . . . . . 2 2 2 . . . . . . . 
. . . . . . 4 4 4 . . . . . . . 
. . . . . . 4 . 4 . . . . . . . 
. . . . . . 7 . 7 . . . . . . . 
`, SpriteKind.Enemy)
    Zombie.ay = 700
    Zombie.vx = 50
}
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Projectile, function (sprite, otherSprite) {
    Zombie.destroy()
    Spawn_Zombie()
    info.changeScoreBy(1)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    Bullet = sprites.createProjectileFromSprite(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . f f f f f . . . . . . 
. . . . . f f f f f . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, Shooter, 150, 0)
})
function Start_Game () {
    info.setScore(0)
    Shooter = sprites.create(img`
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . f f f f f . . . . . . . . . . . . 
. . . . . . . . . . . . . d d d d d . . . . . . . . . . . . 
. . . . . . . . . . . . . d f d f d . . . . . . . . . . . . 
. . . . . . . . . . . . . d d d d d . . . . . . . . . . . . 
. . . . . . . . . . . . . d d d d d . . . . . . . . . . . . 
. . . . . . . . . . . . . d d d d d . . . . . . . . . . . . 
. . . . . . . . . . . . . . . d . . . . . . . . . . . . . . 
. . . . . . . f f f d 4 4 4 4 4 4 4 4 4 d f f f . . . . . . 
. . . . . . . . . f . . . 4 4 4 4 4 . . . f . . . . . . . . 
. . . . . . . . . . . . . 4 4 4 4 4 . . . . . . . . . . . . 
. . . . . . . . . . . . . 4 4 4 4 4 . . . . . . . . . . . . 
. . . . . . . . . . . . . 4 4 4 4 4 . . . . . . . . . . . . 
. . . . . . . . . . . . . 4 4 4 4 4 . . . . . . . . . . . . 
. . . . . . . . . . . . . 4 4 4 4 4 . . . . . . . . . . . . 
. . . . . . . . . . . . . 4 4 4 4 4 . . . . . . . . . . . . 
. . . . . . . . . . . . . 2 2 2 2 2 . . . . . . . . . . . . 
. . . . . . . . . . . . . 2 2 2 2 2 . . . . . . . . . . . . 
. . . . . . . . . . . . . 2 2 . 2 2 . . . . . . . . . . . . 
. . . . . . . . . . . . . 2 2 . 2 2 . . . . . . . . . . . . 
. . . . . . . . . . . . . 2 2 . 2 2 . . . . . . . . . . . . 
. . . . . . . . . . . . . 2 2 . 2 2 . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
`, SpriteKind.Player)
    Shooter.setPosition(14, 93)
    controller.moveSprite(Shooter, 100, 110)
    Shooter.ay = 700
    scene.cameraFollowSprite(Shooter)
    scene.setBackgroundColor(9)
    tiles.setTilemap(tiles.createTilemap(
            hex`1e001e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008080800000000000000000000000000000000000000000000000000000808080800000000000000000000000000000000000000000000000000080808080800000000000000000000000000000000000000000000000008080808080800000000080808080808080000080808080000080800000808080808080800000000000000000000000000000000000000000000000000000000000000000000000a0a0a000000000000000a0a0a0a0000000000000000000000070707070d0b0b0b0c07070707070d0b0b0b0b0c0707070707070707070708080808060b0b0b090808080808060b0b0b0b090808080808080808080808080808060b0b0b090808080808060b0b0b0b090808080808080808080808080808060b0b0b090808080808060b0b0b0b090808080808080808080808080808060b0b0b090808080808060b0b0b0b0908080808080808080808`,
            img`
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . 2 2 2 
. . . . . . . . . . . . . . . . . . . . . . . . . . 2 2 2 2 
. . . . . . . . . . . . . . . . . . . . . . . . . 2 2 2 2 2 
. . . . . . . . . . . . . . . . . . . . . . . . 2 2 2 2 2 2 
. . . . 2 2 2 2 2 2 2 . . 2 2 2 2 . . 2 2 . . 2 2 2 2 2 2 2 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
`,
            [myTiles.tile0,sprites.builtin.forestTiles0,sprites.dungeon.hazardLava1,sprites.dungeon.buttonPink,sprites.builtin.field1,sprites.dungeon.chestClosed,sprites.castle.tilePath6,sprites.castle.tilePath2,sprites.castle.tilePath5,sprites.castle.tilePath4,myTiles.tile4,myTiles.tile5,sprites.castle.tilePath1,sprites.castle.tilePath3],
            TileScale.Sixteen
        ))
    Spawn_Zombie()
}
let Zombie: Sprite = null
let Shooter: Sprite = null
let Bullet: Sprite = null
Start_Game()
forever(function () {
    if (Zombie.isHittingTile(CollisionDirection.Right)) {
        Zombie.vx = -50
    } else if (Zombie.isHittingTile(CollisionDirection.Left)) {
        Zombie.vx = 50
    }
})
